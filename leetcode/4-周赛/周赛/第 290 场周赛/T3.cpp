#include <iostream>
#include <vector>
#include <algorithm>
#include <string>
using namespace std;

void PrintVector(vector<int> v){
	for(auto it = v.begin();it != v.end();it++)
		cout << *it << " ";
	cout << endl; 
}


void PrintVVector(vector<vector<int>> v){
	for(auto iter = v.begin();iter != v.end();iter++){
		auto it_temp = *iter;
		for(auto it = it_temp.begin();it != it_temp.end();it++)
			cout << *it << " ";
		cout << endl;
	}
	cout << endl;
}



class Solution {
public:
    vector<int> countRectangles(vector<vector<int>>& rectangles, vector<vector<int>>& points) {
        // PrintVVector(rectangles);
        int max_x = INT32_MIN;
        int max_y = INT32_MIN;
        for(int i = 0;i < rectangles.size();i++) {
            if(rectangles[i][0] > max_x)
                max_x = rectangles[i][0];
            if(rectangles[i][1] > max_y)
                max_y = rectangles[i][1];
        }
        printf("%d %d\n",max_x,max_y);
        vector<vector<int>> rec_save(max_x,vector<int>(max_y,0));
        for(int i = 0;i < rectangles.size();i++) {
            int rec_x = rectangles[i][0];
            int rec_y = rectangles[i][1];
            for(int j = 0;j < rec_x;j++) {
                for(int k = 0;k < rec_y;k++) {
                    rec_save[j][k]++;
                }
            }   
        }
        PrintVVector(rec_save);
        vector<int> ans(points.size());
        for(int i = 0;i < points.size();i++) {
            int ans_x = points[i][0]-1;
            if(points[i][0]-1 < 0)
                ans_x = 0;
            int ans_y = points[i][1]-1;
            if(points[i][1]-1 < 0)
                ans_y = 0;
            int temp;
            if(ans_x > max_x-1 || ans_y > max_y-1)
                temp = 0;
            else 
                temp = rec_save[ans_x][ans_y];
                
            printf("%d %d %d\n",ans_x,ans_y,temp);
            ans[i] = temp;
        }
        return ans;
    }
};



	
int main() {
	Solution solution;
    // vector<vector<int>> rectangles  =  {{1,2},{2,3},{2,5}};
    // vector<vector<int>> points  =  {{2,1},{1,4}};

    // vector<vector<int>> rectangles  =  {{1,1},{2,2},{3,3}};
    // vector<vector<int>> points  =  {{2,0},{1,1}};

    vector<vector<int>> rectangles  =    {{7,1},{2,6},{1,4},{5,2},{10,3},{2,4},{5,9}};
    vector<vector<int>> points  =  {{10,3},{8,10},{2,3},{5,4},{8,5},{7,10},{6,6},{3,6}};

    auto ans = solution.countRectangles(rectangles,points);

	PrintVector(ans);
	return 0;
}





// [[5198,27],[7790,45],[5814,20],[1963,55],[4081,25],[6065,49],[9788,18],[1922,1],[1708,63],[2973,25],[5024,54],[9720,97],[8761,18],[7962,52],[5247,7],[7467,76],[6611,31],[3900,56],[3353,29],[7218,74],[2070,43],[8416,18],[6509,37],[6932,65],[7041,50],[9603,76],[5731,15],[3090,70],[3213,89],[5790,80],[5692,75],[7391,59],[1650,54],[5735,65],[6498,74],[8784,10],[6672,31],[7458,35],[2420,67],[7291,5],[407,38],[61,65],[6353,68],[3112,81],[5824,16],[6175,48],[8701,76],[5964,24],[4910,66],[4197,85],[7387,62],[1973,59],[6383,62],[2419,20],[1120,37],[5990,66],[2539,91],[8522,5],[3585,12],[7627,79],[756,57],[8708,44],[7593,85],[5925,31],[6725,22],[7774,67],[8666,19],[7155,40],[5080,92],[6638,69],[8500,4],[6627,78],[5355,48],[2941,59],[2270,84],[5750,19],[6465,40],[8977,78],[1451,76],[9913,70],[2153,74],[4119,64],[431,76],[6774,56],[1277,22],[8115,85],[4817,4],[1173,94],[8431,38],[4807,30],[9902,28],[9033,46],[4758,36],[3647,94],[2961,17],[7242,3],[1148,20],[2357,67],[3241,35],[2737,24],[4448,32],[5665,21],[8774,61],[960,19],[1409,50],[8565,32],[8275,45],[3401,33],[1036,80],[6252,57],[5980,68],[2766,82],[8877,70],[5934,67],[2337,36],[5379,25],[8568,68],[1663,3],[1133,11],[149,76],[508,82],[2260,2],[9614,44],[1124,59],[1194,100],[4412,16],[1115,78],[7777,53],[1265,26],[3412,24],[7462,36],[6681,13],[2725,66],[4345,77],[2474,78],[5107,89],[9775,64],[1757,1],[6739,96],[4630,82],[9732,90],[628,15],[7927,91],[8071,93],[4509,61],[9717,96],[9662,18],[4044,80],[8687,85],[8579,79],[2867,88],[5596,80],[554,17],[8621,85],[7555,79],[1439,41],[4016,54],[5817,62],[5076,100],[2217,100],[2520,30],[6330,46],[9653,55],[6621,37],[2030,52],[4583,48],[1849,5],[7075,8],[7379,2],[2453,67],[827,90],[9542,38],[4565,92],[249,14],[4138,34],[7456,70],[6067,66],[3143,86],[280,44],[3965,11],[1072,47],[5243,26],[3886,22],[3941,53],[8398,29],[1572,85],[2890,33],[7667,31],[1464,4],[8357,27],[8847,88],[6164,82],[9318,4],[3420,87],[411,55],[7136,44],[3322,18],[9660,47],[9154,30],[4430,65],[2338,59],[8958,84],[4863,55],[7295,85],[5836,46],[7376,48],[7213,77],[4074,99],[8855,37],[9661,18],[6316,8],[8914,41],[6019,35],[4895,4],[8742,45],[7403,67],[4460,61],[8119,8],[8459,7],[3151,14],[1212,80],[399,42],[9497,85],[315,85],[7058,49],[1680,93],[3014,18],[6720,57],[2167,33],[1672,40],[4318,5],[4069,49],[8933,80],[2676,21],[5482,25],[2327,74],[6254,51],[4477,82],[4872,19],[713,32],[3072,35],[2118,82],[3847,72],[9576,88],[75,73],[6749,65],[2219,87],[3330,13],[4335,3],[4795,60],[2316,64],[5014,80],[6132,18],[5909,55],[125,77],[1390,47],[9036,39],[7276,46],[5336,44],[5950,95],[4775,98],[7174,64],[8887,61],[853,39],[7566,31],[2697,53],[5632,39],[5488,20],[1590,89],[9988,45],[1288,43],[8078,6],[2758,95],[8178,24],[5776,29],[7952,20],[725,96],[9035,90],[1146,65],[4484,90],[8353,70],[4126,22],[7718,47],[2042,58],[6011,89],[7434,51],[9864,81],[3202,14],[5634,76],[9235,96],[1538,58],[5291,96],[9536,75],[5317,43],[5954,73],[7973,4],[9134,1],[3678,43],[8904,71],[3780,74],[3387,83],[5986,2],[2940,3],[7072,93],[1101,88],[6347,30],[2427,51],[8607,62],[4744,23],[9718,16],[676,24],[1506,50],[4938,12],[6792,22],[8901,64],[9023,2],[3524,45],[4155,2],[8452,66],[9333,11],[8694,49],[3583,40],[8212,40],[64,58],[3268,75],[9800,92],[2708,62],[9099,38],[5501,61],[8213,74],[519,3],[2351,72],[7769,35],[3257,64],[1458,83],[950,25],[2012,2],[8418,43],[5304,60],[493,65],[8371,19],[4216,36],[379,57],[9388,9],[4805,41],[4686,79],[2790,9],[4759,34],[8705,6],[9855,70],[4827,16],[2193,72],[2328,46],[1525,85],[3680,69],[509,21],[5157,95],[5984,97],[2724,39],[7647,37],[1040,58],[6160,39],[3907,14],[4202,41],[1461,21],[3541,10],[3806,66],[8668,41],[6246,49],[3048,66],[2389,52],[1341,93],[3403,10],[2156,7],[46,31],[8134,50],[5158,54],[7933,66],[7585,29],[4265,71],[292,45],[4390,3],[9215,6],[5415,28],[9952,33],[9102,34],[4458,37],[4237,68],[4413,59],[2350,31],[8305,15],[5231,95],[2584,46],[6182,25],[4050,65],[2683,55],[4968,100],[4776,24],[5547,15],[7085,20],[6861,9],[3646,30],[2227,21],[1251,10],[3128,34],[7383,37],[4519,25],[1143,26],[777,55],[9805,54],[5132,72],[9098,47],[4929,56],[6593,16],[5146,19],[2401,48],[6427,28],[2150,39],[8491,66],[1713,100],[4157,14],[7484,55],[5303,43],[2544,68],[7108,94],[6190,76],[737,15],[7417,94],[4924,53],[6087,50],[6629,1],[3098,31],[6929,58],[502,79],[914,8],[5839,69],[1722,43],[6987,41],[1357,74],[8827,37],[2964,3],[7299,18],[7351,31],[3115,30],[3500,38],[6393,54],[5901,93],[101,23],[2083,68],[1253,47],[4361,61],[9420,95],[6191,57],[8653,57],[9921,63],[7055,73],[2927,45],[3283,64],[8297,81],[1718,11],[3343,87],[188,21],[5823,41],[1122,45],[542,17],[1670,93],[5545,60],[1875,68],[2579,68],[7565,41],[2619,73],[3495,12],[7416,69],[2004,70],[697,67],[5679,86],[552,57],[8471,32],[1844,84],[5055,89],[307,15],[8403,30],[7425,82],[128,81],[3715,6],[7326,32],[353,64],[8834,43],[3303,28],[8388,8],[3111,59],[164,18],[4539,88],[8759,69],[3327,92],[1065,90],[3908,36],[3992,70],[2996,15],[1494,35],[5476,14],[537,15],[1642,58],[8835,27],[8590,70],[951,67],[7141,12],[183,8],[3580,68],[9308,83],[8764,91],[8424,15],[7577,84],[6584,64],[8719,18],[9619,61],[1013,23],[6746,1],[7302,13],[5385,67],[6294,45],[8578,92],[1191,1],[7518,5],[2929,56],[6169,64],[463,92],[7119,77],[1952,16],[8547,76],[5850,68],[9194,14],[7008,56],[1053,80],[2510,1],[3398,14],[7244,16],[2368,74],[4504,92],[3970,24],[6794,45],[1957,26],[8683,51],[301,74],[5503,84],[6908,58],[2184,29],[8092,10],[6767,61],[1450,42],[3454,51],[4512,36],[8993,8],[1518,74],[5130,13],[8052,42],[338,22],[5406,41],[1008,13],[9899,18],[1942,14],[7098,52],[4697,19],[5197,66],[9703,30],[3548,67],[2919,41],[7781,83],[8329,52],[8830,81],[7104,88],[5842,10],[9871,69],[233,85],[4073,68],[8434,93],[3194,36],[5023,12],[6205,28],[3604,94],[3831,7],[6147,44],[63,53],[9067,95],[2093,80],[3555,43],[7991,66],[7706,4],[8783,72],[2471,52],[5448,2],[4970,1],[3613,32],[3823,31],[2098,28],[6387,2],[8577,32]]
// [[521,12],[3583,86],[977,2],[4068,96],[289,96],[5750,32],[2986,6],[5427,46],[3229,82],[5158,73],[5604,18],[1975,54],[928,57],[4849,12],[3383,33],[6093,59],[4480,25],[5695,12],[9314,92],[5484,76],[1801,33],[1747,82],[2009,77],[7724,41],[6403,27],[4262,36],[194,87],[3726,55],[8013,40],[7293,79],[4404,88],[4534,89],[3954,93],[6711,22],[6253,61],[2399,10],[8648,15],[479,64],[8293,60],[9759,78],[3133,70],[9686,21],[6305,45],[1601,32],[4922,14],[5348,13],[5024,32],[1729,43],[4984,22],[4181,67],[834,64],[7441,96],[1145,98],[9241,46],[9786,75],[3375,56],[3075,65],[8268,32],[7067,94],[9656,39],[3995,70],[6143,57],[4131,48],[4118,96],[425,32],[6829,12],[8795,12],[3231,34],[9749,11],[1615,68],[5565,46],[6300,83],[689,21],[7537,78],[4500,65],[9842,80],[6842,89],[5212,16],[3227,29],[5505,47],[1127,91],[6406,10],[4440,58],[3956,80],[1793,89],[8256,96],[5944,48],[662,50],[7397,8],[7360,29],[7951,8],[2233,73],[3331,42],[22,83],[6926,21],[2888,34],[571,69],[9423,5],[572,41],[9405,4],[1555,27],[1804,83],[9774,75],[3712,4],[9982,40],[9623,54],[6210,67],[8717,89],[4804,81],[475,58],[1050,44],[6000,32],[7313,1],[2768,35],[2653,12],[403,96],[2862,58],[9465,85],[4311,22],[823,27],[9813,96],[8204,21],[4098,60],[3553,32],[9092,26],[5690,32],[2946,7],[8012,96],[6866,37],[9558,40],[5517,83],[2883,32],[6035,89],[5711,29],[1337,34],[6441,8],[4577,22],[2691,53],[3976,32],[1241,87],[3213,37],[21,80],[2335,67],[2938,66],[8822,68],[6719,51],[9128,14],[157,79],[815,23],[5583,46],[4851,20],[5697,78],[3352,67],[5395,45],[251,56],[1651,49],[8671,14],[5250,32],[7403,36],[5180,93],[1882,5],[6619,47],[576,39],[8180,11],[1414,21],[6204,57],[5440,70],[842,87],[6361,75],[4792,60],[1040,72],[1528,33],[492,71],[7631,47],[5614,8],[625,59],[2193,11],[6033,52],[5710,12],[5448,13],[6266,42],[3994,97],[9518,44],[8941,34],[2224,95],[7899,39],[1121,62],[76,55],[6037,22],[8117,71],[6102,40],[2340,98],[1773,31],[6975,2],[9485,69],[3288,21],[7298,23],[9572,32],[3482,8],[9369,12],[3685,4],[4512,95],[2889,72],[8153,52],[8226,20],[5692,26],[6789,85],[4189,2],[8203,12],[2024,25],[1447,84],[1796,80],[1036,31],[6609,25],[4222,11],[9567,7],[6918,45],[4996,48],[4303,100],[8368,96],[8071,80],[6792,34],[4764,2],[6540,68],[9455,18],[8598,66],[6889,85],[1264,5],[8335,66],[4023,11],[4309,61],[1077,14],[3188,4],[5611,12],[5480,20],[526,5],[1871,66],[3765,62],[4660,26],[8580,40],[1185,62],[6179,85],[3018,52],[3364,29],[1667,71],[7022,82],[4474,85],[3257,44],[6066,56],[2405,90],[4133,25],[1087,13],[7662,33],[3214,6],[8375,49],[9871,22],[6676,18],[704,63],[4904,3],[8722,78],[2211,69],[9293,31],[6163,56],[3793,72],[5898,59],[1333,52],[1442,34],[9587,89],[8784,19],[9705,13],[3041,36],[5127,13],[6061,15],[2264,99],[3332,100],[3958,75],[138,77],[3467,95],[6127,30],[7443,48],[3435,6],[2989,43],[1712,25],[5952,5],[1744,73],[2843,50],[123,37],[8352,59],[2674,21],[4737,72],[2238,80],[4431,33],[33,35],[4868,24],[9744,33],[7124,80],[6497,46],[7341,55],[1376,62],[234,9],[3329,79],[1668,40],[9431,75],[9814,84],[4072,16],[3508,21],[5472,52],[8009,22],[8184,65],[5061,68],[6603,62],[991,43],[8766,32],[7425,45],[1771,88],[5035,75],[6427,99],[6250,58],[7272,86],[4822,33],[2489,68],[875,98],[8236,42],[3290,29],[6382,83],[3602,44],[2988,81],[507,34],[1389,94],[3763,76],[2963,40],[1374,15],[7438,17],[4388,2],[7842,4],[5741,53],[9925,46],[3663,91],[7957,15],[1141,16],[7577,45],[1630,75],[2725,88],[9542,39],[1425,37],[6054,88],[6099,48],[9762,14],[4723,61],[8642,84],[3760,92],[2583,70],[7923,78],[8177,100],[9063,70],[5787,30],[7343,59],[6849,84],[1275,78],[3225,94],[2404,14],[9663,44],[5803,81],[1144,16],[3465,57],[1996,15],[5371,24],[3309,70],[9167,22],[4324,28],[1926,94],[8956,37],[4969,67],[4552,11],[4349,16],[3750,92],[3137,56],[1896,36],[9139,6],[1636,31],[4821,77],[8428,89],[2323,67],[7286,25],[112,2],[5195,94],[2956,76],[7383,56],[5414,5]]